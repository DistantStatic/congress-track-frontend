(this.webpackJsonpgovtrack=this.webpackJsonpgovtrack||[]).push([[0],{110:function(e,t,s){"use strict";s.r(t);var a=s(3),r=s(2),n=s.n(r),l=s(13),c=s.n(l),i=(s(63),s(14)),o=s(24),d=s(18),b=s(17),j=(s(64),s(19)),h=s.n(j),u=(s(83),s(26)),m=s(133),O=s(111),g=s(112),x=s(113),p=s(114),M=s(115),f=s(116),_=s(117),v=s(55),B=function(e){Object(d.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(i.a)(this,s),(r=t.call(this,e)).truncate=function(e){return e.length>120?e.substring(0,117)+"...":e},r.render=function(){var e=r.props.toggle;return Object(a.jsxs)(m.a,{isOpen:!0,toggle:e,children:[Object(a.jsx)(O.a,{toggle:e,children:r.state.currentBill.bill_id.toUpperCase()+" | "+(r.state.currentBill.active?"Active":"Inactive")}),Object(a.jsx)(g.a,{children:Object(a.jsxs)(x.a,{children:[Object(a.jsxs)(p.a,{children:[Object(a.jsx)(M.a,{children:"Title: "}),Object(a.jsx)(f.a,{children:r.state.currentBill.title})]}),Object(a.jsxs)(p.a,{children:[Object(a.jsx)(M.a,{children:"Important Dates: "}),Object(a.jsxs)(f.a,{children:[Object(a.jsx)("i",{children:"Introduced: "}),r.state.currentBill.introduced_date]}),Object(a.jsxs)(f.a,{children:[Object(a.jsx)("i",{children:"Lastest Action: "}),r.state.currentBill.latest_major_action_date]}),Object(a.jsx)(f.a,{children:r.state.currentBill.latest_major_action})]}),Object(a.jsxs)(p.a,{children:[Object(a.jsx)(M.a,{children:"Sponsor(s): "}),Object(a.jsx)(f.a,{children:r.state.currentBill.sponsor_title+" "+r.state.currentBill.sponsor+" + "+r.state.currentBill.cosponsors}),r.state.currentBill.cosponsors>0?"D: "+(r.state.currentBill.cosponsors_by_party.D>0?r.state.currentBill.cosponsors_by_party.D:"0")+" | R: "+(r.state.currentBill.cosponsors_by_party.R>0?r.state.currentBill.cosponsors_by_party.R:"0"):null]})]})}),Object(a.jsxs)(_.a,{children:[Object(a.jsx)(v.a,{color:"primary",href:r.state.currentBill.congressdotgov_url,children:"Go to bill page"}),Object(a.jsx)(v.a,{onClick:e,children:"Cancel"})]})]})},r.state={currentBill:Object(u.a)({},e.currentBill)},r}return s}(r.Component),y=s(118),S=s(119),C=function(e){Object(d.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(i.a)(this,s),(r=t.call(this,e)).makeRoleList=function(e){var t=[];return e.forEach((function(e,s){t.push(Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"row",children:e.congress}),Object(a.jsx)("td",{children:e.chamber}),Object(a.jsx)("td",{children:e.bills_sponsored}),Object(a.jsx)("td",{children:e.bills_cosponsored}),Object(a.jsx)("td",{children:e.total_votes}),Object(a.jsx)("td",{children:e.missed_votes_pct+"%"}),Object(a.jsx)("td",{children:e.total_present}),Object(a.jsx)("td",{children:e.votes_with_party_pct+"%"}),Object(a.jsx)("td",{children:e.votes_against_party_pct+"%"})]}))})),t},r.makeCommitteeList=function(e){var t=[];return e.forEach((function(e,s){console.log(e.name),t.push(Object(a.jsx)("li",{children:e.name}))})),t},r.render=function(){var e=r.props.toggle;return Object(a.jsxs)(m.a,{className:"member-modal",isOpen:!0,toggle:e,children:[Object(a.jsx)(O.a,{toggle:e,className:r.state.currentMember.roles[0].party+"party",children:r.state.currentMember.roles[0].title+" "+r.state.currentMember.first_name+" "+r.state.currentMember.last_name+" | "+r.state.currentMember.roles[0].party+" - "+r.state.currentMember.roles[0].state}),Object(a.jsx)(g.a,{children:Object(a.jsxs)(x.a,{children:[null!=r.state.currentMember.roles[0].leadership_role?Object(a.jsx)(p.a,{children:Object(a.jsx)(M.a,{children:r.state.currentMember.roles[0].leadership_role})}):null,Object(a.jsxs)(p.a,{children:[Object(a.jsx)(M.a,{children:"Actions in congress: "}),Object(a.jsx)("div",{className:"holds-table",children:Object(a.jsxs)(y.a,{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Congress #"}),Object(a.jsx)("th",{children:"Chamber"}),Object(a.jsx)("th",{children:"Bills Sponsored"}),Object(a.jsx)("th",{children:"Bills Cosponsored"}),Object(a.jsx)("th",{children:"Total Votes"}),Object(a.jsx)("th",{children:"Missed Votes %"}),Object(a.jsx)("th",{children:"Present Votes"}),Object(a.jsx)("th",{children:"Votes With Party %"}),Object(a.jsx)("th",{children:"Votes Against Party %"})]})}),Object(a.jsx)("tbody",{children:r.makeRoleList(r.state.currentMember.roles)})]})})]}),r.state.currentMember.roles[0].committees.length>0?Object(a.jsxs)(p.a,{children:[Object(a.jsx)(M.a,{children:"Committees: "}),Object(a.jsx)(S.a,{children:r.makeCommitteeList(r.state.currentMember.roles[0].committees)})]}):null]})}),Object(a.jsxs)(_.a,{children:[null!=r.state.currentMember.url?Object(a.jsx)(v.a,{color:"secondary",href:r.state.currentMember.url,target:"_blank",children:"Gov Page"}):null,null!=r.state.currentMember.facebook_account?Object(a.jsx)(v.a,{color:"primary",href:"https://www.facebook.com/"+r.state.currentMember.facebook_account,target:"_blank",children:"Facebook"}):null,null!=r.state.currentMember.twitter_account?Object(a.jsx)(v.a,{color:"info",href:"https://www.twitter.com/"+r.state.currentMember.twitter_account,target:"_blank",children:"Twitter"}):null,null!=r.state.currentMember.youtube_account?Object(a.jsx)(v.a,{color:"danger",href:"https://www.youtube.com/"+r.state.currentMember.youtube_account,target:"_blank",children:"YouTube"}):null]})]})},r.state={currentMember:Object(u.a)({},e.currentMember)},r}return s}(r.Component),D=s(120),N=s(121),k=function(e){Object(d.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(i.a)(this,s),(r=t.call(this,e)).render=function(){return Object(a.jsx)("div",{className:"captivate",children:Object(a.jsx)(D.a,{children:Object(a.jsx)(N.a,{style:{width:"10em",height:"10em"},color:"primary"})})})},r}return s}(r.Component),w=s(28),H=s(122),I=s(123),A=s(124),F=s(125),L=s(126),T=s(127),P=s(128),E=s(129),R=s(136),V=s(135),U=s(134),G=s(130),J=s(131),K=s(132),W="https://congress-track-backend-3ujyc.ondigitalocean.app",Y=function(e){Object(d.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(i.a)(this,s),(r=t.call(this,e)).componentDidMount=function(){r.getSenateMemberData(),r.getHouseMemberData(),r.getBillData()},r.truncate=function(e){return e.length>60?e.substring(0,57)+"...":e},r.handleChange=function(e){var t=e.target.value;r.state.pages.senate&&r.searchSenateMember(t),r.state.pages.house&&r.searchHouseMember(t),r.state.pages.bills&&r.searchBills(t)},r.searchSenateMember=function(e){console.log("Searching with this..."),console.log(e),console.log(r.state.senateMembers),r.state.searchSenate.addDocuments(r.state.senateMembers),r.state.searchSenate.addIndex("first_name"),r.state.searchSenate.addIndex("last_name");var t=r.state.searchSenate.search(e);console.log(t),t.length<1&&(t=r.state.senateMembers),r.setState({renderSenateMembers:t})},r.searchHouseMember=function(e){console.log("Searching with this..."),console.log(e),console.log(r.state.houseMembers),r.state.searchHouse.addDocuments(r.state.houseMembers),r.state.searchHouse.addIndex("first_name"),r.state.searchHouse.addIndex("last_name");var t=r.state.searchHouse.search(e);console.log(t),r.setState({renderHouseMembers:t})},r.searchBills=function(e){console.log("Searching with this..."),console.log(e),console.log(r.state.bills),r.state.searchBills.addDocuments(r.state.bills),r.state.searchBills.addIndex("title"),r.state.searchBills.addIndex("bill_slug");var t=r.state.searchBills.search(e);console.log(t),r.setState({renderBills:t})},r.setActiveMember=function(e){r.setState({loading:!0}),r.getDetailedMemberData(e.id)},r.setActiveBill=function(e){r.setState({loading:!0}),r.getDetailedBillData(e.bill_slug)},r.getSenateMemberData=function(){h()({method:"get",url:W+"/api/senate"}).then((function(e){r.setState({senateMembers:e.data.results[0].members})}))},r.getHouseMemberData=function(){h()({method:"get",url:W+"/api/house"}).then((function(e){r.setState({houseMembers:e.data.results[0].members})}))},r.getBillData=function(){h()({method:"get",url:W+"/api/bills"}).then((function(e){r.setState({loading:!1,bills:e.data.results[0].bills})}))},r.getDetailedMemberData=function(e){h()({method:"get",url:W+"/api/member/"+e}).then((function(e){r.setState({loading:!1,memberModal:!0,activeMember:e.data.results[0]})}))},r.getDetailedBillData=function(e){h()({method:"get",url:W+"/api/bills/"+e}).then((function(e){r.setState({loading:!1,billModal:!0,activeBill:e.data.results[0]})}))},r.renderBills=function(e){var t=[];return e.forEach((function(e){t.push(Object(a.jsx)("div",{className:"col-sm-4",children:Object(a.jsxs)(H.a,{children:[Object(a.jsx)("div",{className:"card-header "+e.sponsor_party+"party",children:e.bill_id.toUpperCase()}),Object(a.jsx)(I.a,{children:Object(a.jsx)("h3",{children:r.truncate(e.short_title)})}),Object(a.jsx)(A.a,{className:"my-body",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h5",{className:"card-title",children:"Sponsor(s): "+e.sponsor_name+" + "+e.cosponsors}),Object(a.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(a.jsx)("li",{className:"list-group-item",children:Object(a.jsx)("a",{href:e.congressdotgov_url,children:e.congressdotgov_url})}),Object(a.jsx)("li",{className:"list-group-item",children:"Last Major Action Date: "+e.latest_major_action_date})]})]})}),Object(a.jsx)(F.a,{children:Object(a.jsx)(v.a,{onClick:r.setActiveBill.bind(Object(o.a)(r),e),children:"Find Out More"})})]})}))})),t},r.renderCongressMembers=function(e){var t=[];return e.forEach((function(e){t.push(Object(a.jsx)(L.a,{sm:"4",children:Object(a.jsxs)(H.a,{children:[Object(a.jsx)("div",{className:"card-header "+e.party+"party",children:e.title+" | "+e.party+" - "+e.state}),Object(a.jsxs)("div",{className:"card-title-section",children:[Object(a.jsx)("h1",{className:"card-title",children:e.first_name}),Object(a.jsx)("h1",{className:"card-title",children:e.last_name})]}),Object(a.jsx)(A.a,{className:"my-body",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(x.a,{className:"list-group-flush",children:[Object(a.jsx)(p.a,{children:"Total Votes: "+e.total_votes+" | Missed: "+e.missed_votes+"("+e.missed_votes_pct+"%)"}),Object(a.jsx)(p.a,{children:"Next Election: "+e.next_election}),Object(a.jsx)(p.a,{children:"Address: "+e.office}),Object(a.jsx)(p.a,{children:"Phone: "+e.phone})]})})}),Object(a.jsx)(F.a,{children:Object(a.jsx)(v.a,{onClick:r.setActiveMember.bind(Object(o.a)(r),e),children:"Find Out More"})})]})}))})),t},r.displaySenate=function(){r.setState({pages:{house:!1,senate:!0,bills:!1}})},r.displayHouse=function(){r.setState({pages:{house:!0,senate:!1,bills:!1}})},r.displayBills=function(){r.setState({pages:{house:!1,senate:!1,bills:!0}})},r.dataDecider=function(){return Object(a.jsxs)(T.a,{light:!0,expand:"lg",children:[Object(a.jsx)(P.a,{href:"/",children:"FilterUS"}),Object(a.jsxs)(E.a,{navbar:!0,children:[Object(a.jsxs)(R.a,{direction:"up",nav:!0,inNavbar:!0,children:[Object(a.jsxs)(V.a,{nav:!0,caret:!0,children:[r.state.pages.house?"House":null,r.state.pages.senate?"Senate":null,r.state.pages.bills?"Bills":null]}),Object(a.jsxs)(U.a,{right:!0,children:[Object(a.jsx)(G.a,{onClick:r.displaySenate,children:"Senate"}),Object(a.jsx)(G.a,{onClick:r.displayHouse,children:"House"}),Object(a.jsx)(G.a,{divider:!0}),Object(a.jsx)(G.a,{onClick:r.displayBills,children:"Bills"})]})]}),Object(a.jsx)(J.a,{children:Object(a.jsx)(K.a,{type:"text",autoComplete:"off",name:"search-bar",onKeyUp:r.handleChange,placeholder:"Search..."})})]})]})},r.toggleBillModal=function(){r.setState({billModal:!r.state.billModal})},r.toggleMemberModal=function(){r.setState({memberModal:!r.state.memberModal})},r.render=function(){return Object(a.jsxs)("div",{className:"App",children:[r.state.loading?Object(a.jsx)(k,{}):null,Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)("h1",{className:"title site-title",children:"TrackUS"}),Object(a.jsx)("h5",{className:"title sub-title text-muted",children:"Keep track of your Representatives in Washington"})]}),Object(a.jsx)(D.a,{children:Object(a.jsxs)("div",{className:"main-display scroll-test row",children:[r.state.pages.senate?r.state.renderSenateMembers.length>0?r.renderCongressMembers(r.state.renderSenateMembers):r.renderCongressMembers(r.state.senateMembers):null,r.state.pages.house?r.state.renderSenateMembers.length>0?r.renderCongressMembers(r.state.renderHouseMembers):r.renderCongressMembers(r.state.houseMembers):null,r.state.pages.bills?r.state.renderBills.length>0?r.renderBills(r.state.renderBills):r.renderBills(r.state.bills):null]})}),Object(a.jsx)("div",{className:"my-footer",children:r.dataDecider()}),r.state.memberModal?Object(a.jsx)(C,{currentMember:r.state.activeMember,toggle:r.toggleMemberModal}):null,r.state.billModal?Object(a.jsx)(B,{currentBill:r.state.activeBill,toggle:r.toggleBillModal}):null]})},r.state={loading:!0,senateMembers:[],renderSenateMembers:[],houseMembers:[],renderHouseMembers:[],bills:[],renderBills:[],pages:{senate:!0,house:!1,bills:!1},activeMember:{},activeBill:{},billModal:!1,memberModal:!1,searchSenate:new w.a("last_name"),searchHouse:new w.a("last_name"),searchBills:new w.a("bill_slug")},r.state.searchHouse.addIndex("first_name"),r.state.searchHouse.addDocuments(r.state.houseMembers),r.state.searchBills.addDocuments(r.state.bills),r}return s}(r.Component),q=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,137)).then((function(t){var s=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,l=t.getTTFB;s(e),a(e),r(e),n(e),l(e)}))};c.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(Y,{})}),document.getElementById("root")),q()},63:function(e,t,s){},64:function(e,t,s){}},[[110,1,2]]]);
//# sourceMappingURL=main.2809ebcd.chunk.js.map